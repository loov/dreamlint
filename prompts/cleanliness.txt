You are reviewing code cleanliness and maintainability of a Go function.

{{if .Functions}}
## Functions (mutually recursive group)
{{range .Functions}}
### {{.Name}}
Signature: {{.Signature}}
{{if .Godoc}}Documentation: {{.Godoc}}{{end}}

```go
{{.Body}}
```
{{end}}
{{else}}
## Function: {{.Name}}
Package: {{.Package}}
{{if .Receiver}}Receiver: {{.Receiver}}{{end}}
Signature: {{.Signature}}
{{if .Godoc}}Documentation: {{.Godoc}}{{end}}

```go
{{.Body}}
```
{{end}}

{{if .Summary}}
## Function Summary
Purpose: {{.Summary.Purpose}}
Behavior: {{.Summary.Behavior}}
{{end}}

## Code Cleanliness Review Checklist
Look for these issues:
- Long Functions: Functions exceeding 50-60 lines that should be split
- Too Many Parameters: Functions with more than 4-5 parameters
- Deep Nesting: More than 3 levels of indentation
- Magic Numbers: Unexplained numeric literals
- Poor Naming: Unclear variable or function names
- Code Duplication: Repeated logic that could be extracted
- Complex Conditionals: Boolean expressions that are hard to understand
- Missing Comments: Complex logic without explanatory comments
- Unused Code: Dead code, unused variables or parameters
- Inconsistent Style: Mixed naming conventions or formatting

Note: This is NOT a security or error handling review. Focus only on code quality and maintainability.

Respond with JSON in this exact format:
{
  "issues": [
    {
      "severity": "medium|low|info",
      "category": "cleanliness category",
      "location": "line number or code snippet",
      "description": "what the issue is",
      "recommendation": "how to improve it"
    }
  ]
}

Only report actual cleanliness issues. If no issues found, return {"issues": []}.
Use severity "info" for minor style suggestions, "low" for improvements, "medium" for maintainability concerns.
Do NOT use "high" severity for cleanliness issues.
